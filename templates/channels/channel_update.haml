-extends "smartmin/update.html"
-load i18n

-block title

  %h2
    {{ title }}

-block form-buttons
  .form-actions
    %input.btn.btn-primary{type:"submit", value:"{{ submit_button_name }}"}
    %a.btn{onclick:"javascript:history.go(-1)"}
      -trans "Cancel"

-block extra-style
  :css
    .form-group {
      margin-bottom:15px;
    }
    
    #id_welcome_message {
        min-height: 100px;
    }

    .welcome-message-languages a {
      display: inline-block;
      margin: 2px 0;
      padding: 0 10px;
      border-right: 1px solid #569D9B;
    }

    .welcome-message-languages a:first-child {
      padding: 0 10px 0 0;
    }

    .welcome-message-languages a:last-child {
      padding: 0 0 0 10px;
      border-right: none;
    }

    .welcome-message-languages a.active {
      color: #000000;
    }

{% block extra-script %}
<script src="{{ STATIC_URL }}js/jscolor.js"></script>
:javascript
  (function($) {
    // change the value of the first option to be empty so that select2 placeholder works
    $('#id_country').children(":first").remove();

    $('#id_country').select2({
      // add this class the select2 if you want to look similar with other fields
      containerCssClass: 'select2-temba-field',
      placeholder: "{% trans 'Select a Country' %}"
    });

    $('#id_theme').select2({
      width: '370px',
      containerCssClass: 'select2-temba-field',
      placeholder: "{% trans 'Select a theme' %}"
    });

    $('#id_logo_style').select2({
      width: '370px',
      containerCssClass: 'select2-temba-field',
      placeholder: "{% trans 'Select a logo style' %}"
    });

    // adding languages to the form
    {% if object.channel_type == "WS" and languages %}
    $(document).ready(function() {
      var welcomeMessageField = document.getElementsByClassName("field_welcome_message");
      var divLanguages = document.createElement("div");
      divLanguages.classList.add("welcome-message-languages");
      {% for lang in languages %}
        var divLangItem = document.createElement("a");
        divLangItem.href = "javascript:;";
        divLangItem.text = "{{ lang }}";
        {% if forloop.counter0 == 0 %}
        divLangItem.classList.add("active");
        
        {% endif %}
        divLanguages.appendChild(divLangItem);
      {% endfor %}
      welcomeMessageField[0].appendChild(divLanguages);
    });
    {% endif %}

  })(jQuery);

{% endblock %}
